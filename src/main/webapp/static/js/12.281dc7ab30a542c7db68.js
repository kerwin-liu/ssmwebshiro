webpackJsonp([12],{"6Fcy":function(e,t,n){"use strict";function i(e){n("9FUs")}Object.defineProperty(t,"__esModule",{value:!0});var a=n("fuSz"),o=n("kMct"),r=n("DoGJ"),l={components:{ElRow:r.a,ElCol:o.a},data:function(){return{pickerOptions2:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-6048e5),e.$emit("pick",[n,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-2592e6),e.$emit("pick",[n,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-7776e6),e.$emit("pick",[n,t])}}]},loading:!1,inventoryLogVisible:!1,inventoryListQo:{stockType:!0,itemId:"",itemName:"",userName:"",inventoryTime:[],inventoryTimeStart:"",inventoryTimeEnd:"",pageIndex:1,pageSize:7},inventoryList:[],inventoryLogList:[]}},methods:{handleDeliverLog:function(e,t){var n=this;this.inventoryLogVisible=!0,a.a.get("/inventoryLog/getList/"+t.id).then(function(e){var t=e.data;n.inventoryLogList=t,console.log(n.inventoryLogList)}).catch(function(){})},indexMethod:function(e){return this.inventoryListQo.pageIndex*this.inventoryListQo.pageSize-this.inventoryListQo.pageSize+e+1},onSubmit:function(){var e=this;this.loading=!0,a.a.get("/inventory/getPages",{params:{itemId:this.inventoryListQo.itemId,itemName:this.inventoryListQo.itemName,userName:this.inventoryListQo.userName,stockType:this.inventoryListQo.stockType,startTime:this.inventoryListQo.inventoryTimeStart,endTime:this.inventoryListQo.inventoryTimeEnd,pageIndex:this.inventoryListQo.pageIndex,pageSize:this.inventoryListQo.pageSize}}).then(function(t){var n=t.data;e.loading=!1,e.inventoryList=n,console.log(e.inventoryList)}).catch(function(){})},TimeChange:function(e){this.inventoryListQo.inventoryTimeStart=e[0],this.inventoryListQo.inventoryTimeEnd=e[1]},handleSizeChange:function(e){this.inventoryListQo.pageSize=e,this.onSubmit()},handleCurrentChange:function(e){this.inventoryListQo.pageIndex=e,this.onSubmit()},handleEdit:function(e,t){this.$router.push({path:"/repertory/modify/"+t.id})},handleDeliver:function(e,t){this.$router.push({path:"/repertory/inventoryLog/"+t.id})}},created:function(){this.onSubmit()}},s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{attrs:{inline:!0,model:e.inventoryListQo}},[n("el-row",[n("el-checkbox",{attrs:{label:"查询库存不为0的",border:""},model:{value:e.inventoryListQo.stockType,callback:function(t){e.$set(e.inventoryListQo,"stockType",t)},expression:"inventoryListQo.stockType"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"商品名称"}},[n("el-input",{attrs:{placeholder:"商品名称",size:"small"},model:{value:e.inventoryListQo.itemName,callback:function(t){e.$set(e.inventoryListQo,"itemName",t)},expression:"inventoryListQo.itemName"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"入库操作人"}},[n("el-input",{attrs:{placeholder:"入库操作人",size:"small"},model:{value:e.inventoryListQo.userName,callback:function(t){e.$set(e.inventoryListQo,"userName",t)},expression:"inventoryListQo.userName"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"入库时间",size:"small"}},[n("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions2},on:{change:e.TimeChange},model:{value:e.inventoryListQo.inventoryTime,callback:function(t){e.$set(e.inventoryListQo,"inventoryTime",t)},expression:"inventoryListQo.inventoryTime"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"el-table-1",attrs:{data:e.inventoryList.result,"empty-text":"暂无数据",height:"auto","default-sort":{order:"descending"}}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[n("el-form-item",{attrs:{label:"商品名称"}},[n("span",[e._v(e._s(t.row.itemName))])]),e._v(" "),n("el-form-item",{attrs:{label:"商品规格"}},[n("span",[e._v(e._s(t.row.models))])]),e._v(" "),n("el-form-item",{attrs:{label:"商品单位"}},[n("span",[e._v(e._s(t.row.unitName))])]),e._v(" "),n("el-form-item",{attrs:{label:"税率"}},[n("span",[e._v(e._s(t.row.rates)+"%")])]),e._v(" "),n("el-form-item",{attrs:{label:"初始库存"}},[n("span",[e._v(e._s(t.row.quantity))])]),e._v(" "),n("el-form-item",{attrs:{label:"剩余库存"}},[n("span",[e._v(e._s(t.row.stock))])]),e._v(" "),n("el-form-item",{attrs:{label:"含税单价"}},[n("span",[e._v(e._s(t.row.priceTax))])]),e._v(" "),n("el-form-item",{attrs:{label:"不含税单价"}},[n("span",[e._v(e._s(t.row.price))])]),e._v(" "),n("el-form-item",{attrs:{label:"不含税金额"}},[n("span",[e._v(e._s(t.row.totalPrice))])]),e._v(" "),n("el-form-item",{attrs:{label:"剩余金额"}},[n("span",[e._v(e._s(t.row.remainTotalPrice))])]),e._v(" "),n("el-form-item",{attrs:{label:"税额"}},[n("span",[e._v(e._s(t.row.taxAmount))])]),e._v(" "),n("el-form-item",{attrs:{label:"剩余税额"}},[n("span",[e._v(e._s(t.row.remainTaxAmount))])]),e._v(" "),n("el-form-item",{attrs:{label:"价税合计金额"}},[n("span",[e._v(e._s(t.row.totalPriceTax))])]),e._v(" "),n("el-form-item",{attrs:{label:"剩余价税合计金额"}},[n("span",[e._v(e._s(t.row.remainTotalPriceTax))])]),e._v(" "),n("el-form-item",{attrs:{label:"入库人"}},[n("span",[e._v(e._s(t.row.userName))])])],1)]}}])}),e._v(" "),n("el-table-column",{attrs:{sortable:"",type:"index",index:e.indexMethod,label:"序号",width:"50",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"itemName",label:"商品名称",width:"200",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"stock",label:"现有库存",width:"100",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"createTime",label:"入库时间",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"producedTime",label:"生产时间",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){e.handleDeliver(t.$index,t.row)}}},[e._v("出库\n        ")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){e.handleDeliverLog(t.$index,t.row)}}},[e._v("记录\n        ")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){e.handleDelete(t.$index,t.row)}}},[e._v("删除\n        ")])]}}])})],1),e._v(" "),n("div",{staticClass:"block paging"},[n("el-pagination",{attrs:{"current-page":e.inventoryList.currentPageNo,"page-sizes":[7,20,30,100],"page-size":7,layout:"total, sizes, prev, pager, next, jumper",total:e.inventoryList.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),n("el-dialog",{attrs:{title:"商品出库记录",visible:e.inventoryLogVisible,"append-to-body":"",width:"85%"},on:{"update:visible":function(t){e.inventoryLogVisible=t}}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"el-table-1",attrs:{data:e.inventoryLogList,"empty-text":"暂无数据",height:"auto","default-sort":{order:"descending"}}},[n("el-table-column",{attrs:{sortable:"",type:"index",label:"序号",width:"50",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"itemNo",label:"商品编号",width:"100",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"itemName",label:"商品名称",width:"100",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"quantity",label:"发货数量",width:"90",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"unitName",label:"单位",width:"50",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"status",label:"类型",width:"60",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"createTime",label:"发货时间",width:"110",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"cName",label:"收货人",width:"100",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"cAddress",label:"收货地址",width:"200",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{label:"电话号码",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-popover",{attrs:{trigger:"hover",placement:"top"}},[n("p",[e._v("物流: "+e._s(t.row.transport))]),e._v(" "),n("p",[e._v("单号: "+e._s(t.row.transportNo))]),e._v(" "),n("p",[e._v("备注: "+e._s(t.row.remark))]),e._v(" "),n("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[n("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.phone))])],1)])]}}])})],1)],1)],1)},m=[],v={render:s,staticRenderFns:m},c=v,p=n("VU/8"),d=i,u=p(l,c,!1,d,"data-v-142095f2",null);t.default=u.exports},"9FUs":function(e,t,n){var i=n("9GX6");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("rjj0")("bbc181f4",i,!0)},"9GX6":function(e,t,n){t=e.exports=n("FZ+f")(!0),t.push([e.i,"\n.el-table-1[data-v-142095f2] {\n  height: 60vh;\n}\n.demo-table-expand[data-v-142095f2] {\n  font-size: 0;\n}\n.demo-table-expand label[data-v-142095f2] {\n  width: 90px;\n  color: #99a9bf;\n}\n.demo-table-expand .el-form-item[data-v-142095f2] {\n  margin-right: 0;\n  margin-bottom: 0;\n  width: 50%;\n}\n","",{version:3,sources:["C:/vue/kerwin-vue/kerwin-vue/src/components/repertory/List.vue"],names:[],mappings:";AACA;EACE,aAAa;CACd;AACD;EACE,aAAa;CACd;AACD;EACE,YAAY;EACZ,eAAe;CAChB;AACD;EACE,gBAAgB;EAChB,iBAAiB;EACjB,WAAW;CACZ",file:"List.vue",sourcesContent:["\n.el-table-1[data-v-142095f2] {\n  height: 60vh;\n}\n.demo-table-expand[data-v-142095f2] {\n  font-size: 0;\n}\n.demo-table-expand label[data-v-142095f2] {\n  width: 90px;\n  color: #99a9bf;\n}\n.demo-table-expand .el-form-item[data-v-142095f2] {\n  margin-right: 0;\n  margin-bottom: 0;\n  width: 50%;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=12.281dc7ab30a542c7db68.js.map