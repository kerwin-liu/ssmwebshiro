webpackJsonp([6],{"+//c":function(e,t,n){var a=n("+FWB");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("cc26d230",a,!0)},"+FWB":function(e,t,n){t=e.exports=n("FZ+f")(!0),t.push([e.i,"\n.manage-header[data-v-ca010100] {\n  text-align: right;\n}\n.el-table-1[data-v-ca010100] {\n  height: 60vh;\n}\n","",{version:3,sources:["C:/vue/kerwin-vue/kerwin-vue/src/components/manager/item/Index.vue"],names:[],mappings:";AACA;EACE,kBAAkB;CACnB;AACD;EACE,aAAa;CACd",file:"Index.vue",sourcesContent:["\n.manage-header[data-v-ca010100] {\n  text-align: right;\n}\n.el-table-1[data-v-ca010100] {\n  height: 60vh;\n}\n"],sourceRoot:""}])},uOOB:function(e,t,n){"use strict";function a(e){n("+//c"),n("vjye")}Object.defineProperty(t,"__esModule",{value:!0});var l=n("fuSz"),o=(n("LOkV"),n("DoGJ")),i=n("kMct"),s={components:{ElCol:i.a,ElRow:o.a},data:function(){return{loading:!1,itemQo:{itemNo:null,itemName:null,models:null,pageIndex:1,pageSize:7},items:[]}},methods:{indexMethod:function(e){return this.itemQo.pageIndex*this.itemQo.pageSize-this.itemQo.pageSize+e+1},tableRowClassName:function(e){var t=e.row;return t.quantity<=t.warnQuantity?"warning-row":"success-row"},onSubmit:function(){var e=this;l.a.get("/item/getPages",{params:{itemNo:this.itemQo.itemNo,itemName:this.itemQo.itemName,models:this.itemQo.models,pageIndex:this.itemQo.pageIndex,pageSize:this.itemQo.pageSize}}).then(function(t){var n=t.data;e.items=n}).catch(function(){})},addItem:function(){this.$router.push({path:"/manager/insert"})},handleSizeChange:function(e){this.itemQo.pageSize=e,this.onSubmit()},handleCurrentChange:function(e){this.itemQo.pageIndex=e,this.onSubmit()},handleEdit:function(e,t){this.$router.push({path:"/manager/modify/"+t.id})},handleDelete:function(e,t){var n=this;this.$confirm("此操作将永久删除该商品, 是否继续?","删除提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning",center:!0}).then(function(){l.a.post("/item/delete/"+t.id).then(function(e){console.log(e),"200"==e.code&&n.$message({type:"success",message:e.msg})}).catch(function(e){n.$message({type:"error",message:e.msg})})}).catch(function(){n.$message({type:"info",message:"已取消删除"})})}},created:function(){this.onSubmit()}},r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",[n("el-form",{attrs:{inline:!0,model:e.itemQo}},[n("el-col",{attrs:{span:7}},[n("el-form-item",{attrs:{label:"商品编号"}},[n("el-input",{attrs:{size:"small",placeholder:"商品编号"},model:{value:e.itemQo.itemNo,callback:function(t){e.$set(e.itemQo,"itemNo",t)},expression:"itemQo.itemNo"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:7}},[n("el-form-item",{attrs:{label:"商品名称"}},[n("el-input",{attrs:{size:"small",placeholder:"商品编号"},model:{value:e.itemQo.itemName,callback:function(t){e.$set(e.itemQo,"itemName",t)},expression:"itemQo.itemName"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"型号"}},[n("el-input",{attrs:{size:"small",placeholder:"规格型号"},model:{value:e.itemQo.models,callback:function(t){e.$set(e.itemQo,"models",t)},expression:"itemQo.models"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:2}},[n("el-form-item",[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1),e._v(" "),n("el-col",{attrs:{span:2}},[n("el-form-item",[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addItem}},[e._v("新 增 商 品")])],1)],1)],1)],1),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"el-table-1",attrs:{data:e.items.result,"empty-text":"暂无数据",height:"auto","default-sort":{order:"descending"},"row-class-name":e.tableRowClassName}},[n("el-table-column",{attrs:{sortable:"",type:"index",index:e.indexMethod,label:"序号",width:"50",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"itemNo",label:"商品编号",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"itemName",label:"商品名称",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"unitName",label:"单位名称",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"rates",label:"税率%",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"models",label:"规格型号",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"price",label:"单价",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"warnQuantity",label:"库存警告数量",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"quantity",label:"现有库存",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){e.handleEdit(t.$index,t.row)}}},[e._v("修改\n        ")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){e.handleDelete(t.$index,t.row)}}},[e._v("删除\n        ")])]}}])})],1),e._v(" "),n("div",{staticClass:"block paging"},[n("el-pagination",{attrs:{"current-page":e.items.currentPageNo,"page-sizes":[7,20,30,100],"page-size":7,layout:"total, sizes, prev, pager, next, jumper",total:e.items.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},c=[],m={render:r,staticRenderFns:c},u=m,d=n("VU/8"),p=a,g=d(s,u,!1,p,"data-v-ca010100",null);t.default=g.exports},vjye:function(e,t,n){var a=n("xU8m");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("e49d66bc",a,!0)},xU8m:function(e,t,n){t=e.exports=n("FZ+f")(!0),t.push([e.i,"\n.el-table .warning-row {\n  background: oldlace;\n}\n.el-table .success-row {\n  background: #f0f9eb;\n}\n","",{version:3,sources:["C:/vue/kerwin-vue/kerwin-vue/src/components/manager/item/Index.vue"],names:[],mappings:";AACA;EACE,oBAAoB;CACrB;AACD;EACE,oBAAoB;CACrB",file:"Index.vue",sourcesContent:["\n.el-table .warning-row {\n  background: oldlace;\n}\n.el-table .success-row {\n  background: #f0f9eb;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=6.2bc7391c5ef00bcbcf52.js.map